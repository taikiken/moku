

<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>JSDoc: util/Iro.js</title>

    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="./build/entry.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href="https://fonts.googleapis.com/css?family=Muli:100,400,700|Oswald:300|Inconsolata,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
    <link type="text/css" rel="stylesheet" href="styles/app.min.css">
    <link type="text/css" rel="stylesheet" href="styles/iframe.css">
</head>

<body>
    <div id="stickyNavbarOverlay"></div>
    <div class="top-navbar">
        <div class="container">
            <nav class="navbar" role="navigation" aria-label="main navigation">
                <div class="navbar-brand">
                    
                    
                        <h1 class="navbar-item">Documentation</h1>
                    
                    <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                        <span aria-hidden="true"></span>
                    </a>
                </div>
                
            </nav>
        </div>
    </div>
    <div class="container">
        <div class="columns">
            <div class="column is-3" id="sidebarNav">
                <div class="sidebar">
                    <nav>
                        <h2><a href="index.html">Home</a></h2><div class="category"><h3>Classes</h3><ul><li><a href="Freeze.html">Freeze</a></li><li><a href="module.exports.html">exports</a></li></ul><h3>Events</h3><ul><li><a href="global.html#event:ALIEN">ALIEN</a></li><li><a href="global.html#event:COLLISION">COLLISION</a></li><li><a href="global.html#event:SCROLL">SCROLL</a></li><li><a href="global.html#event:UPDATE">UPDATE</a></li></ul><h3>Global</h3><ul><li><a href="global.html#abort">abort</a></li><li><a href="global.html#activate">activate</a></li><li><a href="global.html#add">add</a></li><li><a href="global.html#addEventListener">addEventListener</a></li><li><a href="global.html#amp">amp</a></li><li><a href="global.html#and">and</a></li><li><a href="global.html#angle">angle</a></li><li><a href="global.html#animationFrame">animationFrame</a></li><li><a href="global.html#app">app</a></li><li><a href="global.html#array">array</a></li><li><a href="global.html#base64">base64</a></li><li><a href="global.html#between">between</a></li><li><a href="global.html#betweenTime">betweenTime</a></li><li><a href="global.html#betweenX">betweenX</a></li><li><a href="global.html#betweenY">betweenY</a></li><li><a href="global.html#browsers">browsers</a></li><li><a href="global.html#build">build</a></li><li><a href="global.html#camel">camel</a></li><li><a href="global.html#can">can</a></li><li><a href="global.html#CANCEL">CANCEL</a></li><li><a href="global.html#canvas">canvas</a></li><li><a href="global.html#change">change</a></li><li><a href="global.html#clean">clean</a></li><li><a href="global.html#clone">clone</a></li><li><a href="global.html#comma">comma</a></li><li><a href="global.html#compute">compute</a></li><li><a href="global.html#convert">convert</a></li><li><a href="global.html#current">current</a></li><li><a href="global.html#dash">dash</a></li><li><a href="global.html#day">day</a></li><li><a href="global.html#destroy">destroy</a></li><li><a href="global.html#devices">devices</a></li><li><a href="global.html#disable">disable</a></li><li><a href="global.html#dispatch">dispatch</a></li><li><a href="global.html#dispatchEvent">dispatchEvent</a></li><li><a href="global.html#dispose">dispose</a></li><li><a href="global.html#distance">distance</a></li><li><a href="global.html#divideByScalar">divideByScalar</a></li><li><a href="global.html#dot">dot</a></li><li><a href="global.html#down">down</a></li><li><a href="global.html#drag">drag</a></li><li><a href="global.html#duration">duration</a></li><li><a href="global.html#enable">enable</a></li><li><a href="global.html#END">END</a></li><li><a href="global.html#equals">equals</a></li><li><a href="global.html#exist">exist</a></li><li><a href="global.html#extension">extension</a></li><li><a href="global.html#factory">factory</a></li><li><a href="global.html#fill">fill</a></li><li><a href="global.html#fire">fire</a></li><li><a href="global.html#flatten">flatten</a></li><li><a href="global.html#freeze">freeze</a></li><li><a href="global.html#from">from</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#getAll">getAll</a></li><li><a href="global.html#getExtension">getExtension</a></li><li><a href="global.html#has">has</a></li><li><a href="global.html#hasEventListener">hasEventListener</a></li><li><a href="global.html#hasKey">hasKey</a></li><li><a href="global.html#hd">hd</a></li><li><a href="global.html#hex2int">hex2int</a></li><li><a href="global.html#hex2rgb">hex2rgb</a></li><li><a href="global.html#hour">hour</a></li><li><a href="global.html#hsl2rgb">hsl2rgb</a></li><li><a href="global.html#hsv2rgb">hsv2rgb</a></li><li><a href="global.html#hue2rgb">hue2rgb</a></li><li><a href="global.html#id">id</a></li><li><a href="global.html#img">img</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#instance">instance</a></li><li><a href="global.html#int">int</a></li><li><a href="global.html#int2hex">int2hex</a></li><li><a href="global.html#int16">int16</a></li><li><a href="global.html#ipad">ipad</a></li><li><a href="global.html#iphone">iphone</a></li><li><a href="global.html#ipod">ipod</a></li><li><a href="global.html#is">is</a></li><li><a href="global.html#is6">is6</a></li><li><a href="global.html#is7">is7</a></li><li><a href="global.html#is8">is8</a></li><li><a href="global.html#is9">is9</a></li><li><a href="global.html#is10">is10</a></li><li><a href="global.html#is11">is11</a></li><li><a href="global.html#isNormalize">isNormalize</a></li><li><a href="global.html#jump">jump</a></li><li><a href="global.html#kitKat">kitKat</a></li><li><a href="global.html#kitkatEnd">kitkatEnd</a></li><li><a href="global.html#length">length</a></li><li><a href="global.html#major">major</a></li><li><a href="global.html#marge">marge</a></li><li><a href="global.html#match">match</a></li><li><a href="global.html#method">method</a></li><li><a href="global.html#minute">minute</a></li><li><a href="global.html#moku">moku</a></li><li><a href="global.html#month">month</a></li><li><a href="global.html#MOVE">MOVE</a></li><li><a href="global.html#moving">moving</a></li><li><a href="global.html#multiplyByScalar">multiplyByScalar</a></li><li><a href="global.html#naked">naked</a></li><li><a href="global.html#nil">nil</a></li><li><a href="global.html#normalize">normalize</a></li><li><a href="global.html#number">number</a></li><li><a href="global.html#numbers">numbers</a></li><li><a href="global.html#off">off</a></li><li><a href="global.html#offset">offset</a></li><li><a href="global.html#on">on</a></li><li><a href="global.html#onNativeEvent">onNativeEvent</a></li><li><a href="global.html#onScroll">onScroll</a></li><li><a href="global.html#option">option</a></li><li><a href="global.html#parse">parse</a></li><li><a href="global.html#passive">passive</a></li><li><a href="global.html#phone">phone</a></li><li><a href="global.html#point">point</a></li><li><a href="global.html#present">present</a></li><li><a href="global.html#props">props</a></li><li><a href="global.html#remove">remove</a></li><li><a href="global.html#removeEventListener">removeEventListener</a></li><li><a href="global.html#replace">replace</a></li><li><a href="global.html#reset">reset</a></li><li><a href="global.html#restore">restore</a></li><li><a href="global.html#rgb2hex">rgb2hex</a></li><li><a href="global.html#rgb2hsl">rgb2hsl</a></li><li><a href="global.html#rgb2hsv">rgb2hsv</a></li><li><a href="global.html#safari">safari</a></li><li><a href="global.html#save">save</a></li><li><a href="global.html#scrolling">scrolling</a></li><li><a href="global.html#select">select</a></li><li><a href="global.html#selects">selects</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#setRate">setRate</a></li><li><a href="global.html#settings">settings</a></li><li><a href="global.html#shorthand">shorthand</a></li><li><a href="global.html#shortHand">shortHand</a></li><li><a href="global.html#standalone">standalone</a></li><li><a href="global.html#standard">standard</a></li><li><a href="global.html#START">START</a></li><li><a href="global.html#start">start</a></li><li><a href="global.html#stop">stop</a></li><li><a href="global.html#string">string</a></li><li><a href="global.html#swipeCheck">swipeCheck</a></li><li><a href="global.html#tablet">tablet</a></li><li><a href="global.html#test">test</a></li><li><a href="global.html#toInt">toInt</a></li><li><a href="global.html#TOUCH">TOUCH</a></li><li><a href="global.html#touch">touch</a></li><li><a href="global.html#transform">transform</a></li><li><a href="global.html#transition">transition</a></li><li><a href="global.html#truncate">truncate</a></li><li><a href="global.html#ua">ua</a></li><li><a href="global.html#undef">undef</a></li><li><a href="global.html#unwatch">unwatch</a></li><li><a href="global.html#up">up</a></li><li><a href="global.html#update">update</a></li><li><a href="global.html#updateEvents">updateEvents</a></li><li><a href="global.html#validate">validate</a></li><li><a href="global.html#version">version</a></li><li><a href="global.html#watch">watch</a></li><li><a href="global.html#webgl">webgl</a></li><li><a href="global.html#webView">webView</a></li><li><a href="global.html#week">week</a></li><li><a href="global.html#y">y</a></li></ul></div>
                    </nav>
                </div>
            </div>
            <div class="column is-9-desktop">
                <div class="content" id="main-content-wrapper">
                    <header class="page-title">
                        <p>Source</p>
                        <h1>util/Iro.js</h1>
                    </header>
                    
                    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Copyright (c) 2011-2017 inazumatv.com, inc.
 * @author (at)taikiken / http://inazumatv.com
 * @date 2017/01/19 - 15:13
 *
 * Distributed under the terms of the MIT license.
 * http://www.opensource.org/licenses/mit-license.html
 *
 * This notice shall be included in all copies or substantial portions of the Software.
 *
 */

// --------------------------------
// copy [native code]
/**
 * copy [native code] - Math.floor
 * @type {function}
 * @private
 * @static
 */
const mathFloor = Math.floor;
/**
 * copy [native code] - Math.max
 * @type {function}
 * @private
 * @static
 */
const mathMax = Math.max;
/**
 * copy [native code] - Math.min
 * @type {function}
 * @private
 * @static
 */
const mathMin = Math.min;
// /**
//  * copy [native code] - parseInt
//  * @type {function}
//  * @private
//  * @static
//  */
// const mathInt = self.parseInt;

// --------------------------------
// constant for calculate
/**
 * 計算定数
 * ```
 * 1 / 6
 * ```
 * @type {number}
 * @private
 * @static
 */
const ONE_SIX = 1 / 6;
/**
 * 計算定数
 * ```
 * 0.5
 * ```
 * @type {number}
 * @private
 * @static
 */
const HALF = 0.5;
/**
 * 計算定数
 * ```
 * 2 / 3
 * ```
 * @type {number}
 * @private
 * @static
 */
const TWO_THREE = 2 / 3;
/**
 * 計算定数
 * ```
 * 1 / 3
 * ```
 * @type {number}
 * @private
 * @static
 */
const ONE_THREE = 1 / 3;
/**
 * 色変換ユーティリティーです
 */
export default class Iro {
  // ----------------------------------------
  // HSL
  // ----------------------------------------
  /**
   * RGB を HSL 変換します
   * @see http://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion
   * @see http://www.rapidtables.com/convert/color/rgb-to-hsl.htm
   * @param {number} red RGB.red 0 ~ 255
   * @param {number} green RGB.green 0 ~ 255
   * @param {number} blue RGB.blue 0 ~ 255
   * @returns {{h: number, s: number, l: number}}
   * {hue, saturation, luminance} object を返します, それぞれ 0 ~ 1
   * hue: 0 ~ 360 を 360 で正規化されます
   */
  static rgb2hsl(red, green, blue) {
    const r = red / 255;
    const g = green / 255;
    const b = blue / 255;
    const maxValue = mathMax(r, g, b);
    const minValue = mathMin(r, g, b);
    // luminance
    const l = (maxValue + minValue) * 0.5;
    // hue
    let h = 0;
    // saturation
    let s = 0;
    if (maxValue === minValue) {
      // achromatic: 〘光学〙無色の; 色消しの
      return {
        h,
        s,
        l,
      };
    }
    // ---
    const d = maxValue - minValue;
    s = l > 0.5 ? d / (2 - maxValue - minValue) : d / (maxValue + minValue);
    switch (maxValue) {
      case r: {
        h = (g - b) / d + (g &lt; b ? 6 : 0);
        break;
      }
      case g: {
        h = (b - r) / d + 2;
        break;
      }
      case b: {
        h = (r - g) / d + 4;
        break;
      }
      default: {
        h = 0;
        break;
      }
    }
    h /= 6;
    // return value
    return {
      h,
      s,
      l,
    };
  } // rgb2hsl

  /**
   * HSL to RGB で `saturation !== 0` な時の R, G, B 変換 helper です
   * @param {number} point `(2 * l) - q`
   * @param {number} q `l &lt; 0.5 ? l * (1 + s) : (l + s) - (l * s)`
   * @param {number} hue hue
   * @returns {number} 0 ~ 1 な値を返します
   */
  static hue2rgb(point, q, hue) {
    let t = hue;
    if (t &lt; 0) {
      t += 1;
    } else if (t > 1) {
      t -= 1;
    }
    if (t &lt; ONE_SIX) {
      return point + (q - point) * 6 * t;
    }
    if (t &lt; HALF) {
      return q;
    }
    if (t &lt; TWO_THREE) {
      return point + (q - point) * (TWO_THREE - t) * 6;
    }
    return point;
  }

  /**
   * HSL to RGB 変換します
   * @param {number} h hue 0 ~ 1 degree / 360 正規化
   * @param {number} s saturation 0 ~ 1
   * @param {number} l luminance 0 ~ 1
   * @returns {{r: number, g: number, b: number}} r, g, b: 0 ~ 255 object を返します
   */
  static hsl2rgb(h, s, l) {
    let r = l;
    let g = l;
    let b = l;
    if (s !== 0) {
      const q = l &lt; 0.5 ? l * (1 + s) : l + s - l * s;
      const point = 2 * l - q;
      r = Iro.hue2rgb(point, q, h + ONE_THREE);
      g = Iro.hue2rgb(point, q, h);
      b = Iro.hue2rgb(point, q, h - ONE_THREE);
    }
    return {
      // r: parseInt(r * 255, 10),
      // g: parseInt(g * 255, 10),
      // b: parseInt(b * 255, 10),
      r: Math.round(r * 255),
      g: Math.round(g * 255),
      b: Math.round(b * 255),
    };
  }

  // ----------------------------------------
  // HSV
  // ----------------------------------------
  /**
   * RGB to HSV(HSB) 変換
   * @param {number} r RGB.red 0 ~ 255
   * @param {number} g RGB.green 0 ~ 255
   * @param {number} b RGB.blue 0 ~ 255
   * @returns {{h: number, s: number, v: number}} 各 0 ~ 1
   */
  static rgb2hsv(r, g, b) {
    // 正規化
    const red = r / 255;
    const green = g / 255;
    const blue = b / 255;

    const maxValue = mathMax(red, green, blue);
    const minValue = mathMin(red, green, blue);
    const v = maxValue;
    const d = maxValue - minValue;
    const s = maxValue === 0 ? 0 : d / maxValue;
    let h = 0;
    if (maxValue === minValue) {
      // achromatic: 〘光学〙無色の; 色消しの
      return {
        h,
        s,
        v,
      };
    }
    // ---
    switch (maxValue) {
      case red: {
        h = (green - blue) / d + (green &lt; blue ? 6 : 0);
        break;
      }
      case green: {
        h = (blue - red) / d + 2;
        break;
      }
      case blue: {
        h = (red - green) / d + 4;
        break;
      }
      default: {
        h = 0;
        break;
      }
    }
    h /= 6;
    return {
      h,
      s,
      v,
    };
  }

  /**
   * HSV(HSB) to RGB 変換します
   * @param {number} h hue 0 ~ 1
   * @param {number} s saturation 0 ~ 1
   * @param {number} v value(bright) 0 ~ 1
   * @returns {{r: Number, g: Number, b: Number}} 各 0 ~ 255
   */
  static hsv2rgb(h, s, v) {
    const i = mathFloor(h * 6);
    const f = h * 6 - i;
    const point = v * (1 - s);
    const q = v * (1 - f * s);
    const t = v * (1 - (1 - f) * s);
    let r = 0;
    let g = 0;
    let b = 0;
    // ---
    switch (i % 6) {
      case 0:
        r = v;
        g = t;
        b = point;
        break;

      case 1:
        r = q;
        g = v;
        b = point;
        break;

      case 2:
        r = point;
        g = v;
        b = t;
        break;

      case 3:
        r = point;
        g = q;
        b = v;
        break;

      case 4:
        r = t;
        g = point;
        b = v;
        break;

      case 5:
        r = v;
        g = point;
        b = q;
        break;

      default:
        r = 0;
        g = 0;
        b = 0;
        break;
    }
    // ---
    return {
      r: parseInt(r * 255, 10),
      g: parseInt(g * 255, 10),
      b: parseInt(b * 255, 10),
    };
  }

  // ----------------------------------------
  // HEX
  // ----------------------------------------
  /**
   * CSS shorthand 色指定をフル変換します
   * @param {string} hex `#f00` な CSS 色形式
   * @returns {?string} `ff0000` フル変換し返します
   * @see http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb
   */
  static shorthand(hex) {
    if (typeof hex !== 'string') {
      return null;
    }
    const pattern = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
    const color = hex.replace(
      pattern,
      (m, r, g, b) => `${r}${r}${g}${g}${b}${b}`
    );
    return color.length === 7 ? color : `#${color}`;
  }

  /**
   * CSS 色指定を RGB 変換します
   * @param {string} hex CSS 色形式 `#f00` or `#ff0000`
   * @returns {?{r: number, g: number, b: number}} nullable で返します
   */
  static hex2rgb(hex) {
    const hexString = Iro.shorthand(hex);
    if (typeof hexString !== 'string') {
      return null;
    }
    // ---
    const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hexString);
    return Array.isArray(result) &amp;&amp; result.length === 4
      ? {
          r: parseInt(result[1], 16),
          g: parseInt(result[2], 16),
          b: parseInt(result[3], 16),
        }
      : null;
  }

  /**
   * 0 ~ 255 RGB color number を `00` な 16進形式に変換します
   * @param {number} colorNumber 変換する RGB color number
   * @returns {string} 2桁を保証し 16進 変換後文字列を返します
   */
  static int16(colorNumber) {
    const hex = colorNumber.toString(16);
    return hex.length === 1 ? `0${hex}` : hex;
  }

  /**
   * RGB を CSS形式 hex 変換します
   * @param {number} r red 0 ~ 255
   * @param {number} g green 0 ~ 255
   * @param {number} b blue 0 ~ 255
   * @returns {string} CSS形式 hex `#ff0000` を返します
   */
  static rgb2hex(r, g, b) {
    return `#${Iro.int16(r)}${Iro.int16(g)}${Iro.int16(b)}`;
  }

  /**
   * 0 ~ 16777215 数値を `#ffffff` な CSS 16進色形式に変換します
   * @param {number} rgb 0 ~ 16777215 名数値
   * @returns {string} `#ffffff` な CSS 16進色形式を返します
   */
  static int2hex(rgb) {
    let hex = mathFloor(rgb).toString(16);
    const { length } = hex;
    if (length === 6) {
      return `#${hex}`;
    }
    let step = 6 - length;
    while (step) {
      hex = `0${hex}`;
      step -= 1;
    }
    return `#${hex}`;
  }

  /**
   * `#ffffff` な CSS 16進色形式を 10進数変換します
   * @param {string} hex `#f00` or `#ff0000` な CSS 16進色形式
   * @returns {?number} 10進数へ変換し返します
   */
  static hex2int(hex) {
    const hexString = Iro.shorthand(hex);
    if (typeof hexString !== 'string') {
      return null;
    }
    return parseInt(hexString.replace('#', ''), 16);
  }

  /**
   * #FFFFFF な CSS 16進を 0xFFFFFF 変換し 10進数にします
   * @param {string} hex #FFFFFF な CSS 16進
   * @return {Number} 10進数変換後の色ナンバーを返します
   */
  static toInt(hex) {
    return parseInt(hex.replace('#', '0x'), 16);
  }
}
</code></pre>
        </article>
    </section>




                </div>
            </div>
        </div>
    </div>

<footer class="footer">
    <div class="content has-text-centered">
        <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Thu Oct 10 2019 14:32:47 GMT+0900 (GMT+09:00)</p>
        <p class="sidebar-created-by">
            <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
            <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
        </p>
    </div>
</footer>

<script src="scripts/app.min.js"></script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
